<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŸºäºPacket Tracerçš„æ•°æ®æµåˆ†æ</title>
    <style>
        /* å…¨å±€æ ·å¼é‡ç½® */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "å¾®è½¯é›…é»‘", Arial, sans-serif;
        }
        body {
            padding: 20px;
            background-color: #f5f5f5;
        }
        /* ä¸»å®¹å™¨ */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 30px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            text-align: center;
        }
        /* å·¦å³åˆ†åŒºå®¹å™¨ */
        .content-wrap {
            display: flex;
            gap: 30px;
            align-items: flex-start;
        }
        /* å·¦ä¾§åŒºåŸŸ */
        .left-area {
            flex: 1;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }
        /* å³ä¾§åŒºåŸŸï¼ˆåŒ…å«åè®®è¯´æ˜+å¯¹è¯æ™ºèƒ½ä½“ï¼‰ */
        .right-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        /* åè®®/æ•…éšœ/é—®é¢˜åŒºåŸŸ */
        .analysis-box {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }
        /* å¯¹è¯æ™ºèƒ½ä½“å®¹å™¨ */
        .chat-agent-box {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }
        /* å­æ ‡é¢˜æ ·å¼ */
        h2 {
            color: #3498db;
            margin: 15px 0 10px;
            font-size: 18px;
            border-left: 4px solid #3498db;
            padding-left: 10px;
        }
        h3 {
            color: #2c3e50;
            margin: 12px 0 8px;
            font-size: 16px;
        }
        p {
            line-height: 1.8;
            color: #333;
            margin: 8px 0;
            font-size: 14px;
        }
        /* é“¾æ¥/æŒ‰é’®æ ·å¼ */
        .link-btn {
            display: inline-block;
            padding: 10px 15px;
            background: #3498db;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            margin: 10px 0;
            transition: background 0.3s;
        }
        .link-btn:hover {
            background: #2980b9;
        }
        /* æ‹“æ‰‘å›¾/åŠ¨ç”»å›¾æ ·å¼ */
        .media-img {
            width: 100%;
            height: auto;
            border-radius: 6px;
            border: 1px solid #ddd;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s;
        }
        .media-img:hover {
            border-color: #3498db;
            box-shadow: 0 0 8px rgba(52, 152, 219, 0.3);
        }
        /* åè®®åˆ—è¡¨æ ·å¼ */
        .protocol-list {
            margin: 10px 0;
            padding-left: 20px;
        }
        .protocol-list li {
            line-height: 1.8;
            color: #333;
            margin: 6px 0;
        }
        /* æ•…éšœæ¡ˆä¾‹æ ·å¼ */
        .case-box {
            background: #e8f4fd;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
        }
        /* å¸¸è§é—®é¢˜æ ·å¼ */
        .tip {
            color: #e74c3c;
            font-weight: bold;
        }
        /* å¯¹è¯æ™ºèƒ½ä½“æ ·å¼ */
        .chat-container {
            width: 100%;
            height: 400px;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: white;
            padding: 15px;
            overflow-y: auto;
            margin-bottom: 15px;
        }
        .chat-message {
            margin: 10px 0;
            padding: 8px 12px;
            border-radius: 6px;
            max-width: 90%;
        }
        .agent-message {
            background: #e8f4fd;
            color: #2c3e50;
            align-self: flex-start;
        }
        .hint-message {
            background: #fdf2e8;
            color: #e67e22;
            margin: 5px 0 15px 20px;
            font-size: 13px;
        }
        .negative-hint {
            background: #ffebee;
            color: #e53935;
            margin: 5px 0 15px 20px;
            font-size: 13px;
        }
        .student-prompt {
            background: #3498db;
            color: white;
            align-self: flex-end;
            margin-left: auto;
        }
        .chat-input-area {
            display: flex;
            gap: 10px;
        }
        #chat-input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            outline: none;
            font-size: 14px;
        }
        #chat-input:focus {
            border-color: #3498db;
        }
        #send-btn {
            padding: 10px 20px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.3s;
        }
        #send-btn:hover {
            background: #2980b9;
        }
        #reset-btn {
            padding: 10px 15px;
            background: #95a5a6;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.3s;
        }
        #reset-btn:hover {
            background: #7f8c8d;
        }
        /* å“åº”å¼é€‚é… */
        @media (max-width: 768px) {
            .content-wrap {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>åŸºäºPacket Tracerçš„æ•°æ®æµåˆ†æï¼ˆPC0è®¿é—®WebæœåŠ¡å™¨ï¼‰</h1>

        <!-- å·¦å³åˆ†åŒºæ ¸å¿ƒå†…å®¹ -->
        <div class="content-wrap">
            <!-- å·¦ä¾§åŒºåŸŸï¼šæ‹“æ‰‘å›¾ã€ä¸‹è½½ã€è§†é¢‘ã€åŠ¨ç”»é“¾æ¥ -->
            <div class="left-area">
                <h2>ä¸€ã€ç½‘ç»œæ‹“æ‰‘ç›¸å…³èµ„æº</h2>
                
                <!-- æ‹“æ‰‘å›¾å±•ç¤º -->
                <h3>1. æ ¸å¿ƒæ‹“æ‰‘å›¾ï¼ˆPC0è®¿é—®WebæœåŠ¡å™¨ï¼‰</h3>
                <p>æ‹“æ‰‘è¯´æ˜ï¼šåŒ…å«PC0ï¼ˆ192.168.1.10ï¼‰ã€äº¤æ¢æœºã€è·¯ç”±å™¨ã€WebæœåŠ¡å™¨ï¼ˆ192.168.2.30ï¼‰ï¼Œæ¨¡æ‹Ÿæå®¢å…¬å¸åŠå…¬ç½‘åœºæ™¯</p>
                <img src="./fig/dataflow.png" alt="PC0è®¿é—®WebæœåŠ¡å™¨æ‹“æ‰‘å›¾" class="media-img">
                
                <!-- æ‹“æ‰‘å›¾ä¸‹è½½é“¾æ¥ -->
                <h3>2. æ‹“æ‰‘å›¾ä¸‹è½½</h3>
                <p>ç‚¹å‡»ä¸‹æ–¹é“¾æ¥ä¸‹è½½å¯ç¼–è¾‘çš„Packet Traceræ‹“æ‰‘æ–‡ä»¶ï¼š</p>
                <a href="./pkt/dataflow.pkt" class="link-btn">ä¸‹è½½PC0è®¿é—®WebæœåŠ¡å™¨æ‹“æ‰‘å›¾ï¼ˆ.pktï¼‰</a>
                
                <!-- è§†é¢‘é“¾æ¥ -->
                <h3>3. å…¨æµç¨‹è®²è§£è§†é¢‘</h3>
                <p>è§‚çœ‹PC0é€šè¿‡HTTPè®¿é—®WebæœåŠ¡å™¨çš„å®Œæ•´æ“ä½œè§†é¢‘ï¼š</p>
                <a href="./operation_tutorial_video/dataflow_1_chufaDNS.mp4" target="_blank" class="link-btn">ç¬¬ä¸€æ­¥:DNSè¿›ç¨‹å¯åŠ¨ï¼Œç´§æ¥ç€è§¦å‘ARPå‘ç°</a>
                <a href="./operation_tutorial_video/dataflow_2_ARP.mp4" target="_blank" class="link-btn">ç¬¬äºŒæ­¥ã€ARPåè®®æ•°æ®æµåˆ†æ</a>
                <a href="./operation_tutorial_video/dataflow_3_dns.mp4" target="_blank" class="link-btn">ç¬¬ä¸‰æ­¥ã€DNSåè®®æ•°æ®æµåˆ†æ</a>
                <a href="./operation_tutorial_video/dataflow_4_tcpjl.mp4" target="_blank" class="link-btn">ç¬¬å››æ­¥ã€TCPè¿æ¥å»ºç«‹æ•°æ®æµåˆ†æ</a>
                <a href="./operation_tutorial_video/dataflow_5_http.mp4" target="_blank" class="link-btn">ç¬¬äº”æ­¥ã€HTTPåè®®æ•°æ®æµåˆ†æ</a> 
                <a href="./operation_tutorial_video/dataflow_6_tcpsf.mp4" target="_blank" class="link-btn">ç¬¬å…­æ­¥ã€TCPè¿æ¥é‡Šæ”¾æ•°æ®æµåˆ†æ</a>                               
                <!-- TCP/IPåè®®æ ˆæ•°æ®åŒ…å°è£…åŠ¨ç”»ï¼ˆç‚¹å‡»è§¦å‘ï¼‰ -->
                <h3>4. TCP/IPåè®®æ ˆæ•°æ®åŒ…å°è£…åŠ¨ç”»</h3>
                <p>ç‚¹å‡»ä¸‹æ–¹å›¾ç‰‡ï¼ŒæŸ¥çœ‹æ•°æ®åŒ…ä»åº”ç”¨å±‚åˆ°ç‰©ç†å±‚çš„å°è£…å…¨è¿‡ç¨‹åŠ¨ç”»ï¼š</p>
                <!-- é™æ€å›¾å±•ç¤ºï¼Œç‚¹å‡»æ‰“å¼€åŠ¨ç”»é¡µé¢ï¼ˆæ”¯æŒGIF/MP4/ç½‘é¡µåŠ¨ç”»ï¼‰ -->
                <a href="./operation_tutorial_video/data_encap_tcp_ip.mp4" target="_blank">
                    <img src="./fig/data_encap_TCP_IP.png" 
                         alt="TCP/IPåè®®æ ˆæ•°æ®åŒ…å°è£…åŠ¨ç”»ï¼ˆç‚¹å‡»æ’­æ”¾ï¼‰" 
                         class="media-img">
                </a>
                <p style="font-size: 12px; color: #666; margin-top: 5px;">ğŸ’¡ æç¤ºï¼šç‚¹å‡»å›¾ç‰‡è‡ªåŠ¨è·³è½¬è‡³åŠ¨ç”»æ¼”ç¤ºé¡µé¢</p>
            </div>

            <!-- å³ä¾§åŒºåŸŸï¼šåˆ†æå†…å®¹ + å¯¹è¯æ™ºèƒ½ä½“ -->
            <div class="right-area">
                <!-- åè®®/æ•…éšœ/é—®é¢˜åˆ†æåŒºåŸŸ -->
                <div class="analysis-box">
                    <h2>ä¸€ã€è®¿é—®è¿‡ç¨‹æ¶‰åŠçš„åè®®åŠä½œç”¨</h2>
                    <p>åŸºäºå·¦ä¾§æ‹“æ‰‘ï¼ŒPC0è®¿é—®WebæœåŠ¡å™¨çš„å…¨æµç¨‹æ¶‰åŠä»¥ä¸‹æ ¸å¿ƒåè®®ï¼š</p>
                    <ul class="protocol-list">
                        <li><strong>DNSåè®®</strong>ï¼šåŸŸåè§£æåè®®ï¼ŒPC0é€šè¿‡DNSè¯·æ±‚æŠ¥æ–‡è·å–webæœåŠ¡å™¨çš„IPåœ°å€ï¼›</li>
                        <li><strong>ARPåè®®</strong>ï¼šåœ°å€è§£æåè®®ï¼ŒPC0é€šè¿‡ARPè·å–è·¯ç”±å™¨ç«¯å£f0/0çš„MACåœ°å€ï¼Œå®ç°IPåœ°å€åˆ°MACåœ°å€çš„æ˜ å°„ï¼›</li>
                        <li><strong>Ethernetåè®®</strong>ï¼šä»¥å¤ªç½‘åè®®ï¼Œè´Ÿè´£æ•°æ®åœ¨å±€åŸŸç½‘å†…çš„å¸§å°è£…ä¸ç‰©ç†å±‚ä¼ è¾“ï¼›</li>
                        <li><strong>IPåè®®</strong>ï¼šç½‘é™…åè®®ï¼Œå°è£…æºIPï¼ˆPC0ï¼‰å’Œç›®çš„IPï¼ˆWebæœåŠ¡å™¨ï¼‰ï¼Œè´Ÿè´£è·¨ç½‘æ®µæ•°æ®è·¯ç”±è½¬å‘ï¼›</li>
                        <li><strong>TCPåè®®</strong>ï¼šä¼ è¾“æ§åˆ¶åè®®ï¼Œå»ºç«‹å¯é çš„ç«¯åˆ°ç«¯è¿æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰ï¼Œä¿è¯æ•°æ®æœ‰åºã€æ— ä¸¢å¤±ä¼ è¾“ï¼›</li>
                        <li><strong>HTTPåè®®</strong>ï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œå®šä¹‰PC0ä¸WebæœåŠ¡å™¨ä¹‹é—´çš„è¯·æ±‚/å“åº”è§„åˆ™ï¼ˆå¦‚GETè¯·æ±‚ã€å“åº”çŠ¶æ€ç ï¼‰ã€‚</li>
                    </ul>

                    <h2>äºŒã€æ•…éšœæ’æŸ¥èƒŒæ™¯ï¼ˆæå®¢å…¬å¸ä»¿çœŸåœºæ™¯ï¼‰</h2>
                    <div class="case-box">
                        <h3>åœºæ™¯ï¼šPC0æ— æ³•è®¿é—®WebæœåŠ¡å™¨</h3>
                        <p><strong>ç°è±¡</strong>ï¼šPC0è¾“å…¥WebæœåŠ¡å™¨IPåæ— æ³•æ‰“å¼€ç½‘é¡µï¼Œping 192.168.2.30è¶…æ—¶ï¼›</p>
                        <a href="./pkt/dataflow _withproblem.pkt" class="link-btn">ä¸‹è½½é—®é¢˜æ¡ˆä¾‹æ‹“æ‰‘å›¾ï¼ˆ.pktï¼‰</a>
                    </div>

                    <h2>ä¸‰ã€æ–°æ‰‹å¸¸è§é—®é¢˜ä¸è§£å†³</h2>
                    <p><span class="tip">é—®é¢˜1ï¼šæ‹“æ‰‘å›¾å¯¼å…¥åè®¾å¤‡æ— æ³•è¿çº¿ï¼Ÿ</span>â†’ç¡®è®¤ä½¿ç”¨æ­£ç¡®çº¿ç¼†ï¼ˆPC-äº¤æ¢æœºç”¨ç›´é€šçº¿ï¼Œè·¯ç”±å™¨-è·¯ç”±å™¨ç”¨äº¤å‰çº¿ï¼‰ï¼›</p>
                    <p><span class="tip">é—®é¢˜2ï¼šè§†é¢‘/åŠ¨ç”»æ— æ³•æ’­æ”¾ï¼Ÿ</span>â†’æ›´æ¢æµè§ˆå™¨ï¼ˆChrome/Edgeå…¼å®¹æ€§æœ€ä½³ï¼‰ï¼›</p>
                    <p><span class="tip">é—®é¢˜3ï¼šé…ç½®IPåä»æ— æ³•é€šä¿¡ï¼Ÿ</span>â†’æ£€æŸ¥PCé»˜è®¤ç½‘å…³æ˜¯å¦é…ç½®ä¸ºè·¯ç”±å™¨å¯¹åº”ç«¯å£IPï¼›</p>
                    <p><span class="tip">é—®é¢˜4ï¼šHTTPæœåŠ¡å¼€å¯åä»æ— æ³•è®¿é—®ï¼Ÿ</span>â†’æ£€æŸ¥TCP 80ç«¯å£æ˜¯å¦è¢«é˜²ç«å¢™æ‹¦æˆªï¼Œæˆ–æœåŠ¡å™¨IPé…ç½®é”™è¯¯ï¼›</p>
                    <p><span class="tip">é—®é¢˜5ï¼šä»¿çœŸæ¨¡å¼æ— æ•°æ®æµï¼Ÿ</span>â†’ç¡®è®¤åˆ‡æ¢åˆ°ã€Simulationã€‘æ¨¡å¼ï¼Œå‹¾é€‰HTTP/TCP/IPåè®®è¿‡æ»¤è§„åˆ™ã€‚</p>
                </div>

                <!-- æ•…éšœæ’æŸ¥å¯¹è¯æ™ºèƒ½ä½“ -->
                <div class="chat-agent-box">
                    <h2>ğŸ“ æ•…éšœæ’æŸ¥å¼•å¯¼åŠ©æ‰‹</h2>
                    <p style="font-size: 13px; color: #666;">è·ŸéšåŠ©æ‰‹æé—®ï¼Œä¸€æ­¥æ­¥æ’æŸ¥PC0æ— æ³•è®¿é—®WebæœåŠ¡å™¨çš„é—®é¢˜ï¼ˆè¾“å…¥ä»»æ„å…³é”®è¯å³å¯è¿›å…¥ä¸‹ä¸€æ­¥ï¼‰</p>
                    <!-- å¯¹è¯æ˜¾ç¤ºå®¹å™¨ -->
                    <div class="chat-container" id="chat-container">
                        <div class="chat-message agent-message">ä½ å¥½ï¼ç°åœ¨æˆ‘ä»¬ä¸€èµ·æ’æŸ¥ã€ŒPC0æ— æ³•è®¿é—®WebæœåŠ¡å™¨ï¼ˆping 192.168.2.30è¶…æ—¶ï¼‰ã€çš„é—®é¢˜ã€‚é¦–å…ˆï¼Œä½ è§‚å¯Ÿåˆ°çš„æ ¸å¿ƒç°è±¡æ˜¯ä¸æ˜¯ï¼šPC0è¾“å…¥WebæœåŠ¡å™¨IPæ— æ³•æ‰“å¼€ç½‘é¡µï¼Œä¸”ping 192.168.2.30è¶…æ—¶ï¼Ÿ</div>
                    </div>
                    <!-- è¾“å…¥åŒºåŸŸ -->
                    <div class="chat-input-area">
                        <input type="text" id="chat-input" placeholder="è¾“å…¥ä½ çš„å›ç­”ï¼ˆå¦‚ï¼šæ˜¯/å¯¹/æ˜¯çš„/æœªè§£å†³/ä¸çŸ¥é“ï¼‰ï¼ŒæŒ‰å›è½¦æˆ–ç‚¹å‡»å‘é€..." />
                        <button id="send-btn">å‘é€</button>
                        <button id="reset-btn">é‡ç½®å¯¹è¯</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- åº•éƒ¨æç¤º -->
        <p style="margin-top: 30px; color: #666; text-align: center;">ğŸ’¡ æç¤ºï¼šç‚¹å‡»æµè§ˆå™¨å·¦ä¸Šè§’ã€Œè¿”å›ã€å¯å›åˆ°ä¸»é¡µé¢ï¼›æ‹“æ‰‘æ–‡ä»¶ã€è§†é¢‘ã€åŠ¨ç”»éœ€æ›¿æ¢ä¸ºå®é™…èµ„æºè·¯å¾„åä½¿ç”¨ã€‚</p>
    </div>

    <script>
        // å®šä¹‰è´Ÿé¢å›ç­”å…³é”®è¯ï¼ˆå­¦ç”Ÿè¡¨ç¤ºæ— æ³•è§£å†³çš„è¯æœ¯ï¼‰
        const negativeKeywords = ['ä¸èƒ½è§£å†³', 'æœªè§£å†³', 'ä¸çŸ¥é“', 'ä¸ä¼š', 'æ²¡æ‰¾åˆ°', 'å¤±è´¥', 'ä¸è¡Œ', 'æ²¡è§£å†³', 'è§£å†³ä¸äº†'];

        // å¯¹è¯æ­¥éª¤é…ç½®ï¼ˆæ–°å¢è´Ÿé¢å›ç­”å¼•å¯¼é€»è¾‘ï¼‰
        const chatSteps = [
            // æ­¥éª¤0ï¼šåˆå§‹æé—®ï¼ˆç°è±¡ç¡®è®¤ï¼‰
            {
                agentMsg: "ä½ å¥½ï¼ç°åœ¨æˆ‘ä»¬ä¸€èµ·æ’æŸ¥ã€ŒPC0æ— æ³•è®¿é—®WebæœåŠ¡å™¨ï¼ˆping 192.168.2.30è¶…æ—¶ï¼‰ã€çš„é—®é¢˜ã€‚é¦–å…ˆï¼Œä½ è§‚å¯Ÿåˆ°çš„æ ¸å¿ƒç°è±¡æ˜¯ä¸æ˜¯ï¼šPC0è¾“å…¥WebæœåŠ¡å™¨IPæ— æ³•æ‰“å¼€ç½‘é¡µï¼Œä¸”ping 192.168.2.30è¶…æ—¶ï¼Ÿ",
                hintMsg: "ğŸ’¡ æç¤ºï¼šè¿™æ˜¯æ’æŸ¥çš„ç¬¬ä¸€æ­¥ï¼Œå…ˆç¡®è®¤æ•…éšœç°è±¡æ˜¯å¦åŒ¹é…ç›®æ ‡åœºæ™¯",
                negativeMsg: "æ²¡å…³ç³»ï¼æˆ‘ä»¬å…ˆç¡®è®¤ç°è±¡ï¼šåœ¨Packet Tracerä¸­æ‰“å¼€æ‹“æ‰‘ï¼ŒåŒå‡»PC0â†’Desktopâ†’Command Promptï¼Œè¾“å…¥ping 192.168.2.30ï¼Œè‹¥æ˜¾ç¤ºRequest timed outï¼Œå°±æ˜¯è¯¥æ•…éšœç°è±¡ï½",
                nextStep: 1
            },
            // æ­¥éª¤1ï¼šå¼•å¯¼è·Ÿè¸ªæ•°æ®æµ
            {
                agentMsg: "ç¡®è®¤ç°è±¡åŒ¹é…ï¼æ¥ä¸‹æ¥è¯·æ‰“å¼€Packet Tracerï¼Œåˆ‡æ¢åˆ°ã€ŒSimulationï¼ˆä»¿çœŸæ¨¡å¼ï¼‰ã€ï¼Œè·Ÿè¸ªPC0è®¿é—®WebæœåŠ¡å™¨çš„æ•°æ®æµã€‚ä½ çœ‹åˆ°æ•°æ®åŒ…åœ¨å“ªä¸ªä½ç½®ä¸­æ–­äº†ï¼Ÿ",
                hintMsg: "ğŸ’¡ æç¤ºï¼šé‡ç‚¹æŸ¥çœ‹æ•°æ®åŒ…ç»è¿‡è·¯ç”±å™¨æ—¶çš„çŠ¶æ€ï¼Œæ˜¯å¦åœ¨è·¯ç”±å™¨ç«¯å£2ä½ç½®åœæ­¢ä¼ è¾“ï¼Ÿ",
                negativeMsg: "åˆ«ç€æ€¥ï¼æ•™ä½ æ€ä¹ˆè·Ÿè¸ªï¼š1. ç‚¹å‡»Packet Traceré¡¶éƒ¨ã€ŒSimulationã€åˆ‡æ¢æ¨¡å¼ï¼›2. ç‚¹å‡»ã€ŒAuto Capture/Playã€å¼€å§‹æ•è·ï¼›3. åŒå‡»PC0å‘é€pingè¯·æ±‚ï¼Œå°±èƒ½çœ‹åˆ°æ•°æ®åŒ…ä¼ è¾“è·¯å¾„ï¼Œé‡ç‚¹çœ‹è·¯ç”±å™¨ç«¯å£2æ˜¯å¦æœ‰ä¸­æ–­ï½",
                nextStep: 2
            },
            // æ­¥éª¤2ï¼šå¼•å¯¼æ£€æŸ¥è·¯ç”±å™¨é…ç½®
            {
                agentMsg: "æ²¡é”™ï¼æ•°æ®åŒ…åœ¨è·¯ç”±å™¨ç«¯å£2ä¸­æ–­äº†ã€‚æ¥ä¸‹æ¥è¯·æ£€æŸ¥è·¯ç”±å™¨çš„ç«¯å£é…ç½®ï¼Œä½ å‘ç°ç«¯å£2å­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿ",
                hintMsg: "ğŸ’¡ æç¤ºï¼šå¯¹æ¯”è·¯ç”±å™¨ç«¯å£1ï¼ˆå·²é…ç½®192.168.1.1/24ï¼‰ï¼ŒæŸ¥çœ‹ç«¯å£2æ˜¯å¦é…ç½®äº†IPåœ°å€ï¼Ÿ",
                negativeMsg: "æˆ‘æ¥æ•™ä½ æ£€æŸ¥ï¼š1. åŒå‡»è·¯ç”±å™¨â†’CLIâ†’è¾“å…¥enableï¼ˆè¿›å…¥ç‰¹æƒæ¨¡å¼ï¼‰ï¼›2. è¾“å…¥show running-configï¼ˆæŸ¥çœ‹é…ç½®ï¼‰ï¼›3. æ‰¾åˆ°interface FastEthernet0/1ï¼ˆç«¯å£2ï¼‰ï¼Œè‹¥æ²¡æœ‰ip addressé…ç½®ï¼Œå°±æ˜¯æœªé…IPï½",
                nextStep: 3
            },
            // æ­¥éª¤3ï¼šå¼•å¯¼ç¡®è®¤è·¯ç”±å™¨ç«¯å£é—®é¢˜
            {
                agentMsg: "éå¸¸æ£’ï¼è·¯ç”±å™¨ç«¯å£2ç¡®å®æœªé…ç½®IPåœ°å€ï¼ˆä»…ç«¯å£1é…äº†ï¼‰ã€‚æ¥ä¸‹æ¥è¯·æ£€æŸ¥WebæœåŠ¡å™¨çš„é…ç½®ï¼Œä½ å‘ç°HTTPæœåŠ¡å’Œ80ç«¯å£æœ‰ä»€ä¹ˆå¼‚å¸¸ï¼Ÿ",
                hintMsg: "ğŸ’¡ æç¤ºï¼šæ‰“å¼€WebæœåŠ¡å™¨çš„ã€ŒServicesï¼ˆæœåŠ¡ï¼‰ã€é¢æ¿ï¼ŒæŸ¥çœ‹HTTPæœåŠ¡æ˜¯å¦å¯ç”¨ï¼Œ80ç«¯å£æ˜¯å¦å¼€æ”¾ï¼Ÿ",
                negativeMsg: "æ•™ä½ å¿«é€Ÿæ£€æŸ¥ï¼š1. åŒå‡»WebæœåŠ¡å™¨â†’Desktopâ†’Servicesï¼›2. æ‰¾åˆ°HTTPé€‰é¡¹ï¼Œè‹¥Enabledåˆ—æ˜¯Noï¼Œå°±æ˜¯æœªå¯ç”¨ï¼›80ç«¯å£æ˜¯HTTPé»˜è®¤ç«¯å£ï¼Œè‹¥è¢«ä¿®æ”¹ä¹Ÿä¼šå¯¼è‡´è®¿é—®å¤±è´¥ï½",
                nextStep: 4
            },
            // æ­¥éª¤4ï¼šå¼•å¯¼ç¡®è®¤è·¯ç”±å™¨ç«¯å£é—®é¢˜
            {
                agentMsg: "ç­”å¯¹äº†ï¼WebæœåŠ¡å™¨çš„HTTPæœåŠ¡æœªå¯ç”¨ï¼Œ80ç«¯å£å¤„äºå…³é—­çŠ¶æ€ã€‚ç°åœ¨å…ˆè§£å†³è·¯ç”±å™¨çš„é—®é¢˜ï¼šé’ˆå¯¹ç«¯å£2æœªé…ç½®IPçš„é—®é¢˜ï¼Œä½ åº”è¯¥æ€ä¹ˆé…ç½®ï¼Ÿ",
                hintMsg: "ğŸ’¡ æç¤ºï¼šç»™è·¯ç”±å™¨ç«¯å£2é…ç½®å’ŒWebæœåŠ¡å™¨åŒç½‘æ®µçš„IPï¼ˆ192.168.2.1/24ï¼‰ï¼Œå¹¶æ‰§è¡Œno shutdownå¯ç”¨ç«¯å£",
                negativeMsg: "ç›´æ¥ç»™ä½ é…ç½®å‘½ä»¤ï¼š1. è·¯ç”±å™¨CLIä¸­è¾“å…¥ï¼šconfigure terminalï¼ˆè¿›å…¥å…¨å±€é…ç½®ï¼‰ï¼›2. interface FastEthernet0/1ï¼ˆè¿›å…¥ç«¯å£2ï¼‰ï¼›3. ip address 192.168.2.1 255.255.255.0ï¼ˆé…ç½®IPï¼‰ï¼›4. no shutdownï¼ˆå¯ç”¨ç«¯å£ï¼‰ï¼›5. exitï¼ˆé€€å‡ºï¼‰ï½",
                nextStep: 5
            },
            // æ­¥éª¤5ï¼šå¼•å¯¼è§£å†³WebæœåŠ¡å™¨é—®é¢˜
            {
                agentMsg: "é…ç½®æ­£ç¡®ï¼è·¯ç”±å™¨ç«¯å£2é…ç½®192.168.2.1/24å¹¶å¯ç”¨åï¼Œæ¥ä¸‹æ¥è§£å†³WebæœåŠ¡å™¨çš„é—®é¢˜ï¼šå¦‚ä½•å¼€å¯WebæœåŠ¡å™¨çš„HTTPæœåŠ¡ï¼Ÿ",
                hintMsg: "ğŸ’¡ æç¤ºï¼šç™»å½•WebæœåŠ¡å™¨â†’æ‰“å¼€ã€ŒServicesã€é¢æ¿â†’æ‰¾åˆ°HTTPæœåŠ¡ï¼Œå‹¾é€‰å¯ç”¨ï¼Œç¡®è®¤80ç«¯å£ä¸ºé»˜è®¤ç«¯å£",
                negativeMsg: "æ‰‹æŠŠæ‰‹æ•™ä½ ï¼š1. åŒå‡»WebæœåŠ¡å™¨â†’Desktopâ†’Servicesï¼›2. æ‰¾åˆ°HTTPè¡Œï¼Œç‚¹å‡»Enabledåˆ—çš„Noï¼Œæ”¹ä¸ºYesï¼›3. ç¡®è®¤Portåˆ—æ˜¯80ï¼ˆé»˜è®¤ï¼‰ï¼Œæ— éœ€ä¿®æ”¹ï¼›4. ç‚¹å‡»OKä¿å­˜é…ç½®ï½",
                nextStep: 6
            },
            // æ­¥éª¤6ï¼šå¼•å¯¼éªŒè¯ç»“æœ
            {
                agentMsg: "æ“ä½œæ­£ç¡®ï¼HTTPæœåŠ¡å·²å¼€å¯ï¼Œ80ç«¯å£ä¹Ÿå¼€æ”¾äº†ã€‚ç°åœ¨é‡æ–°è·Ÿè¸ªæ•°æ®æµï¼Œä½ èƒ½çœ‹åˆ°å“ªäº›æ­£å¸¸çš„äº¤äº’è¿‡ç¨‹ï¼Ÿ",
                hintMsg: "ğŸ’¡ æç¤ºï¼šé‡ç‚¹è§‚å¯ŸTCPä¸‰æ¬¡æ¡æ‰‹æ˜¯å¦å®Œæˆï¼ŒHTTPè¯·æ±‚å’Œå“åº”æ˜¯å¦æ­£å¸¸ä¼ è¾“ï¼Ÿ",
                negativeMsg: "éªŒè¯æ–¹æ³•ï¼š1. é‡æ–°å¼€å¯Simulationæ¨¡å¼æ•è·ï¼›2. PC0å†æ¬¡ping 192.168.2.30ï¼Œèƒ½çœ‹åˆ°Replyï¼›3. è®¿é—®WebæœåŠ¡å™¨IPï¼Œèƒ½çœ‹åˆ°TCPä¸‰æ¬¡æ¡æ‰‹ï¼ˆSYNâ†’SYN+ACKâ†’ACKï¼‰å’ŒHTTPè¯·æ±‚/å“åº”åŒ…ï½",
                nextStep: 7
            },
            // æ­¥éª¤7ï¼šå®Œæˆæ’æŸ¥
            {
                agentMsg: "å¤ªæ£’äº†ï¼ä½ å·²ç»å®Œæˆå…¨éƒ¨æ’æŸ¥ï¼šTCPä¸‰æ¬¡æ¡æ‰‹å®Œæˆï¼ŒHTTPè¯·æ±‚/å“åº”æ­£å¸¸ï¼ŒPC0èƒ½æˆåŠŸè®¿é—®WebæœåŠ¡å™¨äº†ã€‚æ€»ç»“ä¸€ä¸‹ï¼šæœ¬æ¬¡æ•…éšœæ˜¯ã€Œè·¯ç”±å™¨ç«¯å£2æœªé…IP+WebæœåŠ¡å™¨HTTPæœåŠ¡æœªå¯ç”¨ã€å¯¼è‡´çš„ï¼Œä½ å­¦ä¼šäº†å—ï¼Ÿ",
                hintMsg: "ğŸ’¡ æ­å–œï¼ä½ å·²æŒæ¡Packet Traceræ•…éšœæ’æŸ¥çš„æ ¸å¿ƒæ€è·¯ï¼šå…ˆè·Ÿè¸ªæ•°æ®æµå®šä½ä¸­æ–­ç‚¹â†’å†é€ä¸€æ£€æŸ¥è®¾å¤‡é…ç½®â†’æœ€åéªŒè¯ä¿®å¤ç»“æœ",
                negativeMsg: "æ²¡å…³ç³»ï¼æˆ‘ä»¬å†æ€»ç»“ï¼šæœ¬æ¬¡æ•…éšœæ ¸å¿ƒæ˜¯2ä¸ªç‚¹â†’è·¯ç”±å™¨ç«¯å£2æ²¡é…IPï¼ˆ192.168.2.1/24ï¼‰ã€WebæœåŠ¡å™¨HTTPæœåŠ¡æ²¡å¼€ã€‚åªè¦é…ç½®å¥½è¿™ä¸¤ä¸ªç‚¹ï¼ŒPC0å°±èƒ½æ­£å¸¸è®¿é—®å•¦ï½",
                nextStep: -1 // ç»“æŸ
            }
        ];

        // DOMå…ƒç´ è·å–
        const chatContainer = document.getElementById('chat-container');
        const chatInput = document.getElementById('chat-input');
        const sendBtn = document.getElementById('send-btn');
        const resetBtn = document.getElementById('reset-btn');

        // å½“å‰å¯¹è¯æ­¥éª¤
        let currentStep = 0;

        // æ¸²æŸ“å•æ¡æ¶ˆæ¯
        function renderMessage(text, type) {
            const msgDiv = document.createElement('div');
            msgDiv.className = `chat-message ${type}`;
            msgDiv.textContent = text;
            chatContainer.appendChild(msgDiv);
            // æ»šåŠ¨åˆ°åº•éƒ¨
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        // åˆå§‹åŒ–å¯¹è¯
        function initChat() {
            currentStep = 0;
            chatContainer.innerHTML = '';
            // æ¸²æŸ“åˆå§‹æ¶ˆæ¯
            renderMessage(chatSteps[0].agentMsg, 'agent-message');
            renderMessage(chatSteps[0].hintMsg, 'hint-message');
            // æ¸…ç©ºè¾“å…¥æ¡†
            chatInput.value = '';
        }

        // æ£€æµ‹æ˜¯å¦ä¸ºè´Ÿé¢å›ç­”
        function isNegativeAnswer(text) {
            return negativeKeywords.some(keyword => text.includes(keyword));
        }

        // å‘é€æ¶ˆæ¯å¤„ç†ï¼ˆæ–°å¢è´Ÿé¢å›ç­”åˆ†æ”¯ï¼‰
        function sendMessage() {
            const inputText = chatInput.value.trim();
            if (!inputText) return;

            // æ¸²æŸ“å­¦ç”Ÿè¾“å…¥
            renderMessage(inputText, 'student-prompt');
            chatInput.value = '';

            // æ£€æµ‹æ˜¯å¦ä¸ºè´Ÿé¢å›ç­”
            if (isNegativeAnswer(inputText)) {
                // æ¸²æŸ“è´Ÿé¢å¼•å¯¼æ¶ˆæ¯ï¼Œä¸è·³è½¬æ­¥éª¤
                setTimeout(() => {
                    renderMessage(chatSteps[currentStep].negativeMsg, 'negative-hint');
                }, 500);
                return; // ä¸è·³è½¬ä¸‹ä¸€æ­¥
            }

            // æ­£å¸¸å›ç­”ï¼šè¿›å…¥ä¸‹ä¸€æ­¥
            currentStep = chatSteps[currentStep].nextStep;
            if (currentStep === -1) {
                // å¯¹è¯ç»“æŸ
                return;
            }
            if (currentStep < chatSteps.length) {
                // æ¸²æŸ“ä¸‹ä¸€æ­¥çš„agentæ¶ˆæ¯å’Œæç¤º
                setTimeout(() => {
                    renderMessage(chatSteps[currentStep].agentMsg, 'agent-message');
                    renderMessage(chatSteps[currentStep].hintMsg, 'hint-message');
                }, 500);
            }
        }

        // äº‹ä»¶ç»‘å®š
        sendBtn.addEventListener('click', sendMessage);
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });
        resetBtn.addEventListener('click', initChat);

        // åˆå§‹åŒ–
        window.onload = initChat;
    </script>
</body>
</html>